{% extends "index.html" %}
{% block title %}Contact{% endblock %}
{% block content %}

    <!-- Page Header -->
    <div style="background-color: #333; color: white; padding: 20px; text-align: center;">
        <h1 style="margin: 0;">Contact Me</h1>
        <p style="margin: 5px 0;">I'd love to hear from you</p>
    </div>

    <!-- Contact Form Section -->
    <div style="max-width: 600px; margin: 40px auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
        <h2 style="text-align: center; color: #333;">Get in Touch</h2>


{% comment %}         
        <form style="display: flex; flex-direction: column; gap: 15px;">
            <input type="text" placeholder="Your Name" 
                   style="padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
            
            <input type="email" placeholder="Your Email" 
                   style="padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
            
            <textarea placeholder="Your Message" rows="5" 
                      style="padding: 10px; border: 1px solid #ccc; border-radius: 5px; resize: vertical;"></textarea>
            
            <button type="submit" 
                    style="padding: 12px; background-color: #333; color: white; border: none; border-radius: 5px; cursor: pointer;">
                Send Message
            </button>

            
            {% for contacts in contacts %}
            <h5>{{contacts.name}}</h5>
            {% endfor %}
        </form> 
{% endcomment %}


<form method="post" style="display: flex; flex-direction: column; gap: 15px;">
    {% csrf_token %}
    {{ form.as_p }}

    <button type="submit" 
            style="padding: 12px; background-color: #333; color: white; border: none; border-radius: 5px; cursor: pointer;">
        Send Message
    </button>
</form>

<hr>

<h3>Previous Messages</h3>
<ul>
    {% for contact in Contacts %}
        <li><strong>{{ contact.name }}</strong>: {{ contact.message }}</li>
    {% empty %}
        <li>No messages yet.</li>
    {% endfor %}
</ul>

{% if success %}
    <p style="color: green; text-align: center;">
        âœ… Thank you, <strong>{{ user_name }}</strong>, for your message!
    </p>
{% endif %}



    </div>

{% endblock %}
